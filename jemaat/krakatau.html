<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GKPS Krakatau | GKPS Resort Medan Utara</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700;900&family=EB+Garamond:ital,wght@0,400;0,500;0,600;1,400;1,500&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../assets/css/main.css">
<style>
.church-hero-image{width:100%;height:280px;object-fit:cover;border-radius:8px;margin-bottom:28px;}
.si-card-link{text-decoration:none;display:block;color:inherit;}
.si-card-link .si-cta{font-family:'Cinzel',serif;font-size:9px;letter-spacing:2px;text-transform:uppercase;color:var(--burgundy);margin-top:10px;opacity:0;transition:opacity .2s;}
.si-card-link:hover .si-cta{opacity:1;}
.si-card-link:hover{border-color:var(--burgundy-light) !important;}
.galeri-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px;margin-top:24px;}
.galeri-item{position:relative;overflow:hidden;border-radius:6px;aspect-ratio:1/1;background:var(--parchment);}
.galeri-img{width:100%;height:100%;object-fit:cover;cursor:pointer;transition:transform .3s;display:block;}
.galeri-item:hover .galeri-img{transform:scale(1.05);}
.galeri-caption{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(transparent,rgba(0,0,0,.7));color:#fff;font-size:11px;padding:18px 8px 8px;font-style:italic;}
</style>
</head>
<body>
<nav class="site-nav">
  <div class="nav-inner">
    <a href="../index.html" class="nav-brand">
      <img src="../assets/images/logo-gkps2.png" class="nav-logo-img" alt="Logo GKPS">
      <div class="nav-logo-divider"></div>
      <img src="../assets/images/logo-gkps-thema.png" class="nav-logo-thema" alt="Logo Tema GKPS">
      <div class="nav-title">GKPS Resort Medan Utara<span>Gereja Kristen Protestan Simalungun</span></div>
    </a>
    <div class="nav-links">
      <a href="../index.html#jemaat-sec" class="nav-link">Jemaat</a>
      <a href="../index.html#seksi-sec" class="nav-link">Seksi Resort</a>
      <a href="../index.html#pengurus-sec" class="nav-link">Pengurus</a>
      <a href="../index.html#kegiatan-sec" class="nav-link">Kegiatan</a>
    </div>
  </div>
</nav>
<div class="page-content">
  <div class="inner-nav">
    <a href="../index.html#jemaat-sec" class="back-btn">â† Kembali</a>
    <div class="inner-crumb">Jemaat / <strong>GKPS Krakatau</strong></div>
  </div>
  <section class="church-inner-hero">
    <div class="cih-tag">âœ¦ Jemaat 03 âœ¦</div>
    <h1 class="cih-title">GKPS <em>Krakatau</em></h1>
    <div class="cih-meta">
      <div class="cih-meta-item"><div class="cih-meta-label">Alamat</div><div class="cih-meta-val">Jl. Krakatau No. 67, Medan Utara</div></div>
      <div class="cih-meta-item"><div class="cih-meta-label">Pelayan</div><div class="cih-meta-val">Pdt. Contoh Nama</div></div>
    </div>
  </section>
  <div class="tab-bar">
    <button class="tab-btn active" data-tab="beranda">Beranda</button>
    <button class="tab-btn" data-tab="kebaktian">Kebaktian</button>
    <button class="tab-btn" data-tab="sejarah">Sejarah</button>
    <button class="tab-btn" data-tab="seksi">Seksi-Seksi</button>
    <button class="tab-btn" data-tab="kontak">Kontak Person</button>
    <button class="tab-btn" data-tab="kegiatan">Kegiatan</button>
    <button class="tab-btn" data-tab="galeri">Galeri Foto</button>
  </div>

  <!-- BERANDA -->
  <div id="tab-beranda" class="tab-content active">
    <section class="inner-section">
      <img src="../assets/images/gereja-krakatau.jpg" alt="GKPS Krakatau" class="church-hero-image">
      <h2 class="sec-title">Selamat Datang di <em>GKPS Krakatau</em></h2>
      <p class="sec-sub">Melayani dengan kasih dan sukacita di tengah masyarakat</p>
      <div class="info-grid">
        <div class="info-card"><div class="ic-icon">â›ª</div><div class="ic-title">VISI</div><div class="ic-text">Menjadi jemaat yang kuat dalam iman dan aktif melayani masyarakat di kawasan Krakatau.</div></div>
        <div class="info-card"><div class="ic-icon">ğŸ“–</div><div class="ic-title">MISI</div><div class="ic-text">Membangun persekutuan yang solid, mengembangkan karunia jemaat, dan bersaksi bagi lingkungan sekitar.</div></div>
        <div class="info-card"><div class="ic-icon">ğŸ‘¥</div><div class="ic-title">JUMLAH JEMAAT</div><div class="ic-text">Â± 300 KK (Kepala Keluarga).</div></div>
        <div class="info-card"><div class="ic-icon">ğŸ•’</div><div class="ic-title">IBADAH UTAMA</div><div class="ic-text">Minggu, 09.00 WIB â€” Kebaktian Umum</div></div>
      </div>
    </section>
  </div>

  <!-- KEBAKTIAN -->
  <div id="tab-kebaktian" class="tab-content">
    <section class="inner-section">
      <h2 class="sec-title">Jadwal <em>Kebaktian</em></h2>
      <p class="sec-sub">Ibadah rutin dan kebaktian khusus GKPS Krakatau</p>
      <div class="schedule-list">
        <div class="sched-item"><div class="sched-day">Minggu</div><div class="sched-name">Kebaktian Umum <small>Ibadah utama jemaat</small></div><div class="sched-time">09.00 WIB</div></div>
        <div class="sched-item"><div class="sched-day">Minggu</div><div class="sched-name">Sekolah Minggu <small>Pembinaan anak-anak</small></div><div class="sched-time">09.00 WIB</div></div>
        <div class="sched-item"><div class="sched-day">Rabu</div><div class="sched-name">Persekutuan Doa <small>Doa bersama jemaat</small></div><div class="sched-time">19.00 WIB</div></div>
        <div class="sched-item"><div class="sched-day">Jumat</div><div class="sched-name">Pelayanan Pelajar <small>Pembinaan pemuda</small></div><div class="sched-time">19.00 WIB</div></div>
      </div>
    </section>
  </div>

  <!-- SEJARAH -->
  <div id="tab-sejarah" class="tab-content">
    <section class="inner-section">
      <h2 class="sec-title">Sejarah <em>Jemaat</em></h2>
      <p class="sec-sub">Perjalanan GKPS Krakatau dari masa ke masa</p>
      <div class="timeline">
        <div class="t-item"><div class="t-year">1990</div><div class="t-content"><h3>Awal Berdiri</h3><p>Jemaat GKPS Krakatau didirikan oleh sekelompok umat yang rindu akan pelayanan firman Tuhan di kawasan ini.</p></div></div>
        <div class="t-item"><div class="t-year">2000</div><div class="t-content"><h3>Pembangunan Gedung</h3><p>Gedung gereja pertama dibangun dengan bantuan umat dan Resort Medan Utara.</p></div></div>
        <div class="t-item"><div class="t-year">2015</div><div class="t-content"><h3>Renovasi Besar</h3><p>Gedung gereja direnovasi untuk menampung jemaat yang semakin bertambah.</p></div></div>
        <div class="t-item"><div class="t-year">2020</div><div class="t-content"><h3>Era Digital</h3><p>Jemaat mulai mengadakan ibadah online dan memanfaatkan teknologi untuk pelayanan.</p></div></div>
      </div>
    </section>
  </div>

  <!-- SEKSI-SEKSI -->
  <div id="tab-seksi" class="tab-content">
    <section class="inner-section">
      <h2 class="sec-title">Seksi-Seksi <em>Jemaat</em></h2>
      <p class="sec-sub">Klik seksi untuk melihat pengurus dan kegiatan</p>
      <div class="seksi-inner-grid">
        <a href="seksi-krakatau/seksi-bapa.html" class="si-card si-card-link">
          <span class="si-icon">ğŸ‘¨</span>
          <div class="si-name">Seksi Bapa</div>
          <div class="si-desc">Kaum bapak yang melayani dalam pembinaan dan pengerjaan fisik gereja.</div>
          <div class="si-cta">Lihat Detail â†’</div>
        </a>
        <a href="seksi-krakatau/seksi-inang.html" class="si-card si-card-link">
          <span class="si-icon">ğŸ‘©</span>
          <div class="si-name">Seksi Inang</div>
          <div class="si-desc">Kaum ibu yang aktif dalam pelayanan diakonia dan pembinaan keluarga.</div>
          <div class="si-cta">Lihat Detail â†’</div>
        </a>
        <a href="seksi-krakatau/seksi-namaposo.html" class="si-card si-card-link">
          <span class="si-icon">ğŸ§‘</span>
          <div class="si-name">Seksi Namaposo</div>
          <div class="si-desc">Pemuda-pemudi yang bertugas dalam pelayanan musik dan multimedia.</div>
          <div class="si-cta">Lihat Detail â†’</div>
        </a>
        <a href="seksi-krakatau/seksi-sekolahminggu.html" class="si-card si-card-link">
          <span class="si-icon">ğŸ“š</span>
          <div class="si-name">Seksi Sekolah Minggu</div>
          <div class="si-desc">Pelayanan khusus untuk pembinaan anak-anak dan remaja.</div>
          <div class="si-cta">Lihat Detail â†’</div>
        </a>
      </div>
    </section>
  </div>

  <!-- KONTAK PERSON -->
  <div id="tab-kontak" class="tab-content">
    <section class="inner-section">
      <h2 class="sec-title">Kontak <em>Person</em></h2>
      <p class="sec-sub">Hubungi pengurus jemaat GKPS Krakatau</p>
      <div class="kontak-grid">
        <div class="k-card"><div class="k-avatar">P</div><div class="k-name">Pdt. Contoh Nama</div><div class="k-role">Pendeta Jemaat</div><div class="k-row"><span>ğŸ“</span> 0812-3456-7890</div><div class="k-row"><span>âœ‰ï¸</span> pendeta@gkps.org</div></div>
        <div class="k-card"><div class="k-avatar">K</div><div class="k-name">Ketua Jemaat</div><div class="k-role">Pengurus Harian</div><div class="k-row"><span>ğŸ“</span> 0813-4567-8901</div><div class="k-row"><span>âœ‰ï¸</span> ketua@gkps.org</div></div>
        <div class="k-card"><div class="k-avatar">S</div><div class="k-name">Sekretaris Jemaat</div><div class="k-role">Administrasi Jemaat</div><div class="k-row"><span>ğŸ“</span> 0814-5678-9012</div><div class="k-row"><span>âœ‰ï¸</span> sekretaris@gkps.org</div></div>
      </div>
    </section>
  </div>

  <!-- KEGIATAN -->
  <div id="tab-kegiatan" class="tab-content">
    <section class="inner-section">
      <h2 class="sec-title">Kegiatan <em>Jemaat</em></h2>
      <p class="sec-sub">Agenda dan dokumentasi kegiatan GKPS Krakatau</p>
      <div class="kegiatan-cards" id="kegiatan-list">
        <div class="empty-state"><em>ğŸ“…</em>Belum ada kegiatan yang ditampilkan.</div>
      </div>
    </section>
  </div>

    <!-- GALERI -->
  <div id="tab-galeri" class="tab-content">
    <section class="inner-section">
      <h2 class="sec-title">Galeri <em>Foto</em></h2>
      <p class="sec-sub">Dokumentasi kegiatan dan momen GKPS Krakatau</p>
      <div id="galeri-upload-wrap" style="display:none;margin-bottom:24px;">
        <div style="background:var(--white);border:1px solid var(--parchment2);border-radius:6px;padding:18px 20px;max-width:480px;">
          <div style="font-family:'Cinzel',serif;font-size:9px;letter-spacing:3px;text-transform:uppercase;color:var(--text-muted);margin-bottom:12px;">Upload Foto Galeri</div>
          <input type="file" id="galeri-file-input" accept="image/*" multiple style="display:none;" onchange="uploadGaleriPhotos(this)">
          <label for="galeri-file-input" style="display:inline-flex;align-items:center;gap:8px;font-family:'Cinzel',serif;font-size:10px;letter-spacing:2px;text-transform:uppercase;color:var(--cream);background:var(--burgundy);padding:10px 20px;cursor:pointer;border-radius:4px;">ğŸ“· Pilih Foto (maks 10)</label>
          <span id="galeri-upload-status" style="font-size:13px;color:var(--text-muted);font-style:italic;margin-left:12px;"></span>
        </div>
      </div>
      <div id="galeri-grid" class="galeri-grid">
        <p style="color:var(--text-muted);font-style:italic;font-size:14px;">Memuat galeri...</p>
      </div>
    </section>
  </div>

</div><!-- /page-content -->
<footer class="site-footer">
  <div class="footer-logos">
    <img src="../assets/images/logo-gkps2.png" class="footer-logo-img" alt="Logo GKPS">
    <div class="footer-logo-divider"></div>
    <img src="../assets/images/logo-gkps-thema.png" class="footer-logo-thema" alt="Logo Tema GKPS">
  </div>
  <div class="footer-name">GKPS Resort Medan Utara</div>
  <div class="footer-sub">Gereja Kristen Protestan Simalungun â€” Melayani dengan Kasih</div>
  <div class="footer-links">
    <a href="../index.html" class="footer-link">Beranda</a>
    <span style="color:var(--parchment2)">Â·</span>
    <a href="../index.html#jemaat-sec" class="footer-link">Jemaat</a>
    <span style="color:rgba(255,255,255,.2)">Â·</span>
    <a href="../index.html#seksi-sec" class="footer-link">Seksi Resort</a>
  </div>
  <a href="../admin/index.html" class="footer-admin-link">âš™ Panel Admin</a>
  <div class="footer-bottom">Â© 2024 GKPS Resort Medan Utara Â· Soli Deo Gloria</div>
</footer>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
<script src="../assets/js/firebase-db.js"></script>
<script src="../assets/js/main.js"></script>
<script>
document.addEventListener('DOMContentLoaded', async () => {
  const kegiatan = await DB.getList('kegiatan_jemaat_krakatau');
  const el = document.getElementById('kegiatan-list');
  if (kegiatan.length > 0) {
    el.innerHTML = kegiatan.map(k => `
      <div class="keg-item">
        ${k.foto ? '<img src="'+k.foto+'" class="keg-photo-thumb" alt="">' : '<div class="keg-photo-empty">ğŸ“·</div>'}
        <div>
          <div class="keg-date">${new Date(k.tgl).toLocaleDateString('id-ID',{day:'2-digit',month:'short',year:'numeric'})} ${k.waktu?'Â· '+k.waktu:''}</div>
          <div class="keg-title">${k.judul}</div>
          <div class="keg-meta">${k.lokasi||''} ${k.desc?'â€” '+k.desc:''}</div>
        </div>
        <span class="keg-badge-upcoming">Akan Datang</span>
      </div>`).join('');
  }
  loadGaleri();
});

/* â”€â”€ GALERI FOTO â”€â”€ */
async function loadGaleri() {
  const key = 'galeri_krakatau';
  const grid = document.getElementById('galeri-grid');
  if (!grid) return;
  const isAdmin = localStorage.getItem('gkps_admin_logged')==='true'||sessionStorage.getItem('gkps_admin_logged')==='true';
  if (isAdmin) { const w=document.getElementById('galeri-upload-wrap'); if(w) w.style.display='block'; }
  try {
    const list = await DB.getList(key);
    renderGaleri(list, isAdmin);
  } catch(e) {
    grid.innerHTML = '<p style="color:var(--text-muted);font-style:italic;padding:20px 0;">Belum ada foto di galeri.</p>';
  }
}
function renderGaleri(list, isAdmin) {
  const grid = document.getElementById('galeri-grid');
  if (!list || list.length === 0) {
    grid.innerHTML = '<div style="text-align:center;padding:40px;color:var(--text-muted);font-style:italic;">Belum ada foto di galeri.</div>';
    return;
  }
  grid.innerHTML = list.slice(0,10).map(p => `
    <div class="galeri-item">
      <img src="${p.foto||p.url||''}" alt="${p.caption||''}" class="galeri-img" onclick="openLightbox('${(p.foto||p.url||'').replace(/'/g,'\\'')}','${(p.caption||'').replace(/'/g,'\\'')}')">
      ${p.caption ? '<div class="galeri-caption">'+p.caption+'</div>' : ''}
      ${isAdmin ? '<button onclick="hapusGaleri(\''+(p.id||'')+'\'')" style="position:absolute;top:6px;right:6px;background:rgba(198,40,40,.82);color:#fff;border:none;border-radius:50%;width:26px;height:26px;cursor:pointer;font-size:13px;line-height:26px;padding:0;">âœ•</button>' : ''}
    </div>
  `).join('');
}
async function uploadGaleriPhotos(input) {
  const key = 'galeri_krakatau';
  const status = document.getElementById('galeri-upload-status');
  const files = Array.from(input.files).slice(0,10);
  if (!files.length) return;
  status.textContent = 'Mengupload...';
  for (let i=0; i<files.length; i++) {
    try {
      const b64 = await new Promise(res => { const r=new FileReader(); r.onload=e=>res(e.target.result); r.readAsDataURL(files[i]); });
      const comp = await DB.compressFoto(b64, 900);
      await DB.addItem(key, { id: Date.now()+'_'+i, foto: comp, caption: files[i].name.replace(/\.[^.]+$/,''), _order: Date.now()+i });
      status.textContent = `${i+1}/${files.length} terupload`;
    } catch(e) { console.warn(e); }
  }
  status.textContent = 'Selesai!'; input.value=''; loadGaleri();
}
async function hapusGaleri(id) {
  if (!confirm('Hapus foto ini?')) return;
  await DB.deleteItem('galeri_krakatau', id); loadGaleri();
}
function openLightbox(src, caption) {
  if (!src) return;
  let lb = document.getElementById('lightbox-overlay');
  if (!lb) { lb=document.createElement('div'); lb.id='lightbox-overlay'; document.body.appendChild(lb); }
  lb.style.cssText = 'position:fixed;inset:0;background:rgba(0,0,0,.92);z-index:9999;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;';
  lb.onclick = () => lb.remove();
  lb.innerHTML = `<img src="${src}" style="max-width:90vw;max-height:82vh;object-fit:contain;border-radius:4px;box-shadow:0 8px 48px rgba(0,0,0,.5);">${caption?'<div style="color:rgba(255,255,255,.75);font-size:14px;font-style:italic;margin-top:14px;">'+caption+'</div>':''}<div style="color:rgba(255,255,255,.4);font-size:12px;margin-top:10px;">Klik untuk menutup</div>`;
}

</script>
<script src="../assets/js/visitor-tracker.js"></script>
</body>
</html>