<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GKPS Resort Medan Utara</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700;900&family=EB+Garamond:ital,wght@0,400;0,500;0,600;1,400;1,500&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     STICKY TOP NAV
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<nav class="site-nav">
  <div class="nav-inner">
    <a href="index.html" class="nav-brand">
      <img src="assets/images/logo-gkps.gif" class="nav-logo-img" alt="Logo GKPS">
      <div class="nav-title">GKPS Resort Medan Utara<span>Gereja Kristen Protestan Simalungun</span></div>
    </a>
    <div class="nav-links">
      <a href="#jemaat-sec" class="nav-link">Jemaat</a>
      <a href="#seksi-sec" class="nav-link">Seksi Resort</a>
      <a href="#pengurus-sec" class="nav-link">Pengurus</a>
      <a href="#kegiatan-sec" class="nav-link">Kegiatan</a>
    </div>
  </div>
</nav>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     HERO CAROUSEL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section class="hero-carousel" id="hero-carousel">
  <!-- Carousel will be initialized by JavaScript -->
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     JEMAAT SECTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section class="jemaat-section" id="jemaat-sec">
  <div class="sec-header">
    <span class="kicker">âœ¦ Jemaat-Jemaat âœ¦</span>
    <h2>Lima Jemaat <em>Resort</em></h2>
    <p>Pilih jemaat untuk melihat informasi lengkap</p>
  </div>
  <div class="jemaat-grid">
    <a href="jemaat/kampung-durian.html" class="jemaat-card">
      <div class="jemaat-card-image">
        <img src="assets/images/gereja-kampung-durian.jpg" alt="GKPS Kampung Durian">
        <div class="jemaat-card-num">01</div>
      </div>
      <div class="jemaat-card-body">
        <div class="jcard-label">Jemaat Â· 01</div>
        <div class="jcard-name">GKPS Kampung Durian</div>
        <div class="jcard-desc">Melayani dengan kasih dan sukacita di tengah masyarakat Kampung Durian.</div>
        <div class="jcard-cta">Selengkapnya</div>
      </div>
    </a>
    <a href="jemaat/krakatau.html" class="jemaat-card">
      <div class="jemaat-card-image">
        <img src="assets/images/gereja-krakatau.jpg" alt="GKPS Krakatau">
        <div class="jemaat-card-num">02</div>
      </div>
      <div class="jemaat-card-body">
        <div class="jcard-label">Jemaat Â· 02</div>
        <div class="jcard-name">GKPS Krakatau</div>
        <div class="jcard-desc">Bertumbuh dalam iman, pelayanan, dan persekutuan yang nyata.</div>
        <div class="jcard-cta">Selengkapnya</div>
      </div>
    </a>
    <a href="jemaat/martubung.html" class="jemaat-card">
      <div class="jemaat-card-image">
        <img src="assets/images/gereja-martubung.jpg" alt="GKPS Martubung">
        <div class="jemaat-card-num">03</div>
      </div>
      <div class="jemaat-card-body">
        <div class="jcard-label">Jemaat Â· 03</div>
        <div class="jcard-name">GKPS Martubung</div>
        <div class="jcard-desc">Setia melayani jemaat di kawasan industri Martubung.</div>
        <div class="jcard-cta">Selengkapnya</div>
      </div>
    </a>
    <a href="jemaat/belawan.html" class="jemaat-card">
      <div class="jemaat-card-image">
        <img src="assets/images/gereja-belawan.jpg" alt="GKPS Belawan">
        <div class="jemaat-card-num">04</div>
      </div>
      <div class="jemaat-card-body">
        <div class="jcard-label">Jemaat Â· 04</div>
        <div class="jcard-name">GKPS Belawan</div>
        <div class="jcard-desc">Pelayanan kasih di kawasan pelabuhan Kota Medan.</div>
        <div class="jcard-cta">Selengkapnya</div>
      </div>
    </a>
    <a href="jemaat/batang-sere.html" class="jemaat-card">
      <div class="jemaat-card-image">
        <img src="assets/images/gereja-batang-sere.jpg" alt="Pos Persiapan GKPS Batang Sere">
        <div class="jemaat-card-num">05</div>
      </div>
      <div class="jemaat-card-body">
        <div class="jcard-label">Pos Persiapan Â· 05</div>
        <div class="jcard-name">Pos Persiapan GKPS Batang Sere</div>
        <div class="jcard-desc">Dalam persiapan menuju jemaat mandiri yang kokoh dalam iman.</div>
        <div class="jcard-cta">Selengkapnya</div>
      </div>
    </a>
  </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SEKSI RESORT SECTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section class="seksi-section" id="seksi-sec">
  <div class="sec-header">
    <span class="kicker">âœ¦ Organisasi Resort âœ¦</span>
    <h2>Seksi-Seksi <em>Resort</em></h2>
    <p>Pelayanan terorganisir tingkat Resort Medan Utara</p>
  </div>
  <div class="seksi-grid">
    <a href="seksi/bapa.html" class="seksi-card">
      <div class="seksi-card-icon">ğŸ‘¨</div>
      <div class="seksi-card-label">Seksi Resort</div>
      <div class="seksi-card-name">Seksi Bapa Resort Medan Utara</div>
      <div class="seksi-card-desc">Pembinaan dan persekutuan kaum bapak se-Resort Medan Utara.</div>
      <div class="seksi-card-cta">Lihat Detail</div>
    </a>
    <a href="seksi/inang.html" class="seksi-card">
      <div class="seksi-card-icon">ğŸ‘©</div>
      <div class="seksi-card-label">Seksi Resort</div>
      <div class="seksi-card-name">Seksi Inang Resort Medan Utara</div>
      <div class="seksi-card-desc">Pelayanan dan pemberdayaan kaum ibu Kristen Simalungun.</div>
      <div class="seksi-card-cta">Lihat Detail</div>
    </a>
    <a href="seksi/namaposo.html" class="seksi-card">
      <div class="seksi-card-icon">ğŸ§‘</div>
      <div class="seksi-card-label">Seksi Resort</div>
      <div class="seksi-card-name">Seksi Namaposo Resort Medan Utara</div>
      <div class="seksi-card-desc">Organisasi pemuda-pemudi Kristen Simalungun tingkat resort.</div>
      <div class="seksi-card-cta">Lihat Detail</div>
    </a>
    <a href="seksi/sekolah-minggu.html" class="seksi-card">
      <div class="seksi-card-icon">ğŸ“š</div>
      <div class="seksi-card-label">Seksi Resort</div>
      <div class="seksi-card-name">Seksi Sekolah Minggu Resort Medan Utara</div>
      <div class="seksi-card-desc">Koordinasi pembinaan anak-anak se-Resort Medan Utara.</div>
      <div class="seksi-card-cta">Lihat Detail</div>
    </a>
  </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PENGURUS RESORT SECTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section class="pengurus-section" id="pengurus-sec">
  <div class="pengurus-inner">
    <div class="pengurus-header">
      <span class="kicker2">âœ¦ Kepengurusan Aktif âœ¦</span>
      <h2>Pengurus Resort Medan Utara</h2>
      <p>Periode Kepengurusan yang sedang berjalan</p>
    </div>
    <div class="pengurus-grid" id="home-pengurus-grid">
      <div class="empty-pengurus">Data pengurus belum tersedia. Silakan tambahkan melalui halaman Admin.</div>
    </div>
  </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SEKRETARIAT SECTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section class="sekretariat-section" id="sekretariat-sec">
  <div class="sekretariat-inner">
    <div class="sec-header" style="padding-top:0;">
      <span class="kicker">âœ¦ Informasi Kantor âœ¦</span>
      <h2>Lokasi <em>Sekretariat</em></h2>
      <p>Pusat administrasi Resort GKPS Medan Utara</p>
    </div>
    <div class="sek-grid">
      <div class="sek-map" id="sek-info-box">
        <h3>Sekretariat Resort Medan Utara</h3>
        <div class="sek-info">
          <div class="sek-info-row"><div class="sek-icon">ğŸ“</div><div class="sek-info-text"><span class="sek-info-label">Alamat</span><span class="sek-info-val" id="sek-alamat">â€” Belum diisi, hubungi Admin â€”</span></div></div>
          <div class="sek-info-row"><div class="sek-icon">ğŸ“</div><div class="sek-info-text"><span class="sek-info-label">Telepon</span><span class="sek-info-val" id="sek-telp">â€” Belum diisi â€”</span></div></div>
          <div class="sek-info-row"><div class="sek-icon">âœ‰ï¸</div><div class="sek-info-text"><span class="sek-info-label">Email</span><span class="sek-info-val" id="sek-email">â€” Belum diisi â€”</span></div></div>
          <div class="sek-info-row"><div class="sek-icon">ğŸ•’</div><div class="sek-info-text"><span class="sek-info-label">Jam Pelayanan</span><span class="sek-info-val" id="sek-jam">Senin â€“ Jumat, 09.00 â€“ 15.00 WIB</span></div></div>
        </div>
      </div>
      <div class="sek-vision">
        <blockquote>"Karena itu pergilah, jadikanlah semua bangsa murid-Ku dan baptislah mereka dalam nama Bapa dan Anak dan Roh Kudus."</blockquote>
        <cite>â€” Matius 28:19 Â· Dasar Pelayanan</cite>
      </div>
    </div>
  </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     KEGIATAN RESORT SECTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section class="kegiatan-home-section" id="kegiatan-sec">
  <div class="sec-header">
    <span class="kicker">âœ¦ Program & Kegiatan âœ¦</span>
    <h2>Kegiatan <em>Resort</em></h2>
    <p>Dokumentasi dan agenda kegiatan Resort Medan Utara</p>
  </div>
  <div class="kegiatan-home-grid" id="home-kegiatan-grid">
    <div class="kg-empty"><em>ğŸ“…</em>Belum ada kegiatan. Tambahkan melalui halaman Admin.</div>
  </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     FOOTER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<footer class="site-footer">
  <img src="assets/images/logo-gkps.gif" class="footer-logo-img" alt="Logo GKPS">
  <div class="footer-name">GKPS Resort Medan Utara</div>
  <div class="footer-sub">Gereja Kristen Protestan Simalungun â€” Melayani dengan Kasih</div>
  <div class="footer-links">
    <a href="index.html" class="footer-link">Beranda</a>
    <span style="color:rgba(255,255,255,.2)">Â·</span>
    <a href="#jemaat-sec" class="footer-link">Jemaat</a>
    <span style="color:rgba(255,255,255,.2)">Â·</span>
    <a href="#seksi-sec" class="footer-link">Seksi Resort</a>
    <span style="color:rgba(255,255,255,.2)">Â·</span>
    <a href="#pengurus-sec" class="footer-link">Pengurus</a>
  </div>
  <a href="admin/index.html" class="footer-admin-link">âš™ Panel Admin</a>
  <div class="footer-bottom">Â© 2024 GKPS Resort Medan Utara Â· Soli Deo Gloria</div>
</footer>

<!-- Firebase SDK (dimuat sebelum script lain) -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="assets/js/firebase-db.js"></script>
<script src="assets/js/main.js"></script>
<script>
// â•â•â• INITIALIZE CAROUSEL â•â•â•
document.addEventListener('DOMContentLoaded', async () => {
  const carouselImages = [
    { src: 'assets/images/carousel-1.jpg', alt: 'Gereja GKPS Resort Medan Utara' },
    { src: 'assets/images/carousel-2.jpg', alt: 'Kebaktian GKPS' },
    { src: 'assets/images/carousel-3.jpg', alt: 'Pelayanan Sosial GKPS' }
  ];
  
  new ImageCarousel('hero-carousel', carouselImages, 5000);
  
  // Load data dari Firebase/localStorage
  loadHomeData();
});

// â•â•â• LOAD HOME DATA â€” Firebase Realtime â•â•â•
function renderPengurus(list) {
  list.sort((a,b)=>(a.urutan||999)-(b.urutan||999));
  const grid = document.getElementById('home-pengurus-grid');
  if (!grid) return;
  if (list.length > 0) {
    grid.innerHTML = list.map(p => `
      <div class="pengurus-card">
        <div class="p-avatar">
          ${p.foto ? `<img src="${p.foto}" alt="${p.nama}">` : `<div class="p-avatar-initial">${p.nama.charAt(0)}</div>`}
        </div>
        <div class="p-jabatan">${p.jabatan}</div>
        <div class="p-nama">${p.nama}</div>
        ${p.telp ? `<div class="p-telp">ğŸ“ ${p.telp}</div>` : ''}
      </div>
    `).join('');
  }
}

function renderKegiatan(list) {
  const grid = document.getElementById('home-kegiatan-grid');
  if (!grid) return;
  list.sort((a,b)=>(b._order||0)-(a._order||0));
  if (list.length > 0) {
    grid.innerHTML = list.slice(0, 6).map(k => `
      <a href="kegiatan-detail.html?id=${k.id}" class="kg-card kg-card-link">
        <div class="kg-photo">
          ${k.foto ? `<img src="${k.foto}" alt="${k.judul}">` : `<div class="kg-photo-placeholder"><span>ğŸ“·</span><em>Foto belum tersedia</em></div>`}
          <div class="kg-date-badge">${formatDate(k.tgl)}</div>
          ${k.fotos && k.fotos.length > 1 ? `<div class="kg-foto-count">ğŸ“¸ ${k.fotos.length} foto</div>` : ''}
        </div>
        <div class="kg-body">
          <div class="kg-title">${k.judul}</div>
          <div class="kg-desc">${k.desc || 'Klik untuk lihat detail kegiatan'}</div>
          <div class="kg-meta">
            ${k.waktu ? `<div class="kg-meta-item"><span>ğŸ•’</span>${k.waktu}</div>` : ''}
            ${k.lokasi ? `<div class="kg-meta-item"><span>ğŸ“</span>${k.lokasi}</div>` : ''}
          </div>
          <div class="kg-read-more">Lihat Detail â†’</div>
        </div>
      </a>
    `).join('');
  } else {
    grid.innerHTML = '<div class="kg-empty"><em>ğŸ“…</em>Belum ada kegiatan. Tambahkan melalui halaman Admin.</div>';
  }
}

async function loadHomeData() {
  // Pakai realtime listener jika Firebase online
  if (DB.isOnline()) {
    DB.onList('kegiatan_resort', renderKegiatan);
    DB.onList('pengurus_resort', renderPengurus);
  } else {
    // Fallback localStorage
    renderKegiatan(await DB.getList('kegiatan_resort'));
    renderPengurus(await DB.getList('pengurus_resort'));
  }
  
  // Load sekretariat info
  const sekretariat = await DB.getDoc('sekretariat');
  if (sekretariat.alamat) document.getElementById('sek-alamat').textContent = sekretariat.alamat;
  if (sekretariat.telp) document.getElementById('sek-telp').textContent = sekretariat.telp;
  if (sekretariat.email) document.getElementById('sek-email').textContent = sekretariat.email;
  if (sekretariat.jam) document.getElementById('sek-jam').textContent = sekretariat.jam;
}

function formatDate(dateString) {
  if (!dateString) return 'â€”';
  const date = new Date(dateString);
  return date.toLocaleDateString('id-ID', { day: '2-digit', month: 'short', year: 'numeric' });
}
</script>
</body>
</html>
